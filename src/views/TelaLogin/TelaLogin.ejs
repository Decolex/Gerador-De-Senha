<!DOCTYPE html>
<html lang="pr-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/TelaLogin.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"> 
    <title>LOGIN</title>

</head>

<body>
<div class="container">
    <div class="card">
            
        <h1> FAZER LOGIN </h1>

        <div id='msgError'></div>

            <form method="POST" action="/TelaLogin">

            <div class="label-float">

                <label id="userLabel"  for="usuario">Usuário</label>
                <br>
  
                <input type="text" id="usuario" name="usuario" placeholder="Seu Usuário Cadastrado" required>

            </div>

            <div class="label-float">
              <label id="labelSenha" for="senha">Senha</label>
              <br>
              <input type="password" name="senha" id="senha" placeholder="Sua Senha " required>
              <i id="verSenha" class="fa fa-eye fa-eye-slash" aria-hidden="true"></i>
          </div>

            <div class="justify-center" >

                <button class="btn custom-btn" type="submit">LOGIN</a></button>

            </div>

            <p>Não tem cadastro?
                <a href="/TelaCadastro">Cadastre-se</a>
            </p>
        </div>
    </form>
    </div>


   <!-- CODIGO JS  -->
<script>
    let btn = document.querySelector('.fa-eye')
    let inputSenha = document.querySelector('#senha');

    btn.addEventListener('click', () => {
            if (senha.type === 'password') {
                senha.type = 'text';
                btn.classList.add('fa-eye');
                btn.classList.remove('fa-eye-slash');
            } else {
                senha.type = 'password';
                btn.classList.add('fa-eye-slash');
                btn.classList.remove('fa-eye');
            }
        });

let senha = document.querySelector('#senha');
let labelSenha = document.querySelector('#labelSenha');
let validSenha = false;

senha.addEventListener('keyup', () => {
    const regex = /[!@#$%^&*(),.?":{}|<>]/;
    let valid = true;
    if (senha.value.length < 6 || !regex.test(senha.value)) {
        labelSenha.setAttribute('style', 'color: red');
        labelSenha.innerHTML = '<strong> Senha *Insira no mínimo 6 caracteres e um especial </strong>';
        senha.setAttribute('style', 'border-color: red'); 
        validSenha = false;
    } else {
        labelSenha.setAttribute('style', 'color: green');
        labelSenha.innerHTML = 'Senha';
        senha.setAttribute('style', 'border-color: green');
        validSenha = true;
    }
});
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>